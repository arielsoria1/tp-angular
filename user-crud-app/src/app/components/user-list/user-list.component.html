<div class="container mt-4">
  <table class="table table-striped table-hover">
    <thead class="thead bg-primary text-white">
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Username</th>
        <th>Email</th>
        <th>City</th>
        <th>Phone</th>
        <th colspan="2">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of userList">
        <td>{{ user.id }}</td>
        <td>{{ user.name }}</td>
        <td>{{ user.username }}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.city }}</td>
        <td>{{ user.phone }}</td>
        <td><button class="btn btn-primary btn-sm" (click)="view(viewModal, user)">View/Edit</button></td>
        <td><button class="btn btn-danger btn-sm" (click)="delete(user)">Delete</button></td>
      </tr>
    </tbody>
    <tfoot>
      <tr>
        <td></td>
        <td><input class="form-control" [(ngModel)]="newUser.name" placeholder="Name"></td>
        <td><input class="form-control" [(ngModel)]="newUser.username" placeholder="Username"></td>
        <td><input class="form-control" [(ngModel)]="newUser.email" placeholder="Email"></td>
        <td><input class="form-control" [(ngModel)]="newUser.city" placeholder="City"></td>
        <td><input class="form-control" [(ngModel)]="newUser.phone" placeholder="Phone"></td>
        <td colspan="2" class="text-center">
          <button class="btn btn-success" (click)="save()">Add User</button>
        </td>
      </tr>
    </tfoot>
  </table>
</div>

<ng-template #viewModal let-modal>
  <div class="modal-header">
    <h5 class="modal-title">View / Edit User</h5>
    <button type="button" class="btn-close" (click)="modal.dismiss()"></button>
  </div>
  <div class="modal-body">
    <div class="mb-3">
      <label>ID:</label>
      <input class="form-control" [(ngModel)]="selectedUser.id" readonly>
    </div>
    <div class="mb-3">
      <label>Name:</label>
      <input class="form-control" [(ngModel)]="selectedUser.name" ngbAutofocus>
    </div>
    <div class="mb-3">
      <label>Username:</label>
      <input class="form-control" [(ngModel)]="selectedUser.username">
    </div>
    <div class="mb-3">
      <label>Email:</label>
      <input class="form-control" [(ngModel)]="selectedUser.email">
    </div>
    <div class="mb-3">
      <label>City:</label>
      <input class="form-control" [(ngModel)]="selectedUser.city">
    </div>
    <div class="mb-3">
      <label>Phone:</label>
      <input class="form-control" [(ngModel)]="selectedUser.phone">
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="modal.close()">Save Changes</button>
  </div>
</ng-template>